<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<test xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="SimConfig.xsd">

  <test_case comment="2by2SystemTests" db="XDAQSim.sqlite" id="4"/>

  <input_generator>
    <parameter name="EventSizeSigma" type="Lognormal">
      <value>1500000</value>
    </parameter>
    <parameter name="EventSizeMean" type="Lognormal">
      <value>4194304</value>
    </parameter>
    <parameter name="NumberOfDataSources" type="Lognormal">
      <value>8</value>
    </parameter>
    <parameter name="BlockSize" type="Lognormal">
      <value>4096</value>
    </parameter>
  </input_generator>

  <deployment>
    <cpu ip="192.168.1.1">
      <xdaqexecutive port="4000">
        <application id="13" maxExecTime="5" minExecTime="1" monperf="false" name="PT" nbOfInstances="1" unique_id="1"/>
        <application id="10" maxExecTime="10" minExecTime="3" monperf="true" name="RU" nbOfInstances="8" unique_id="2">
          <appparam name="blockFIFOCapacity" type="double">
            <value>4096</value>
          </appparam>
        </application>
        <application id="11" maxExecTime="15" minExecTime="3" monperf="true" name="BU" nbOfInstances="8" unique_id="4">
          <appparam name="blockFIFOCapacity" type="double">
            <value>4096</value>
          </appparam>
          <appparam name="EVM_ALLOCATE_CLEAR_PACKING" type="double">
            <value>8</value>
          </appparam>
          <appparam name="RU_SEND_PACKING" type="double">
            <value>8</value>
          </appparam>
          <appparam name="requestFIFOCapacity" type="double">
            <value>4096</value>
          </appparam>
        </application>
        <application id="12" maxExecTime="10" minExecTime="3" monperf="true" name="EVM" nbOfInstances="1" unique_id="3">
          <appparam name="RU_READOUT_PACKING" type="double">
            <value>8</value>
          </appparam>
          <appparam name="nbEvtIdsInBuilder" type="double">
            <value>64</value>
          </appparam>
          <appparam name="MAX_BUS" type="double">
            <value>8</value>
          </appparam>
          <appparam name="maxEvtsUnderConstruction" type="double">
            <value>64</value>
          </appparam>
          <appparam name="MAX_RUS" type="double">
            <value>8</value>
          </appparam>
          <appparam name="DEFAULT_NB_EVENTS" type="double">
            <value>64</value>
          </appparam>
          <appparam name="MAX_BU_RESOURCES" type="double">
            <value>8</value>
          </appparam>
        </application>
      </xdaqexecutive>
    </cpu>
  </deployment>

  <dataflow>
    <connection dstApp="1" dstInstance="1" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="2" srcInstance="1"/>
    <connection dstApp="2" dstInstance="1" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="2" srcInstance="2"/>
    <connection dstApp="2" dstInstance="2" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="2" srcInstance="3"/>
    <connection dstApp="2" dstInstance="3" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="2" srcInstance="4"/>
    <connection dstApp="2" dstInstance="4" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="2" srcInstance="5"/>
    <connection dstApp="2" dstInstance="5" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="2" srcInstance="6"/>
    <connection dstApp="2" dstInstance="6" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="2" srcInstance="7"/>
    <connection dstApp="2" dstInstance="7" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="2" srcInstance="8"/>
    <connection dstApp="2" dstInstance="8" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="4" srcInstance="1"/>
    <connection dstApp="4" dstInstance="1" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="4" srcInstance="2"/>
    <connection dstApp="4" dstInstance="2" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="4" srcInstance="3"/>
    <connection dstApp="4" dstInstance="3" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="4" srcInstance="4"/>
    <connection dstApp="4" dstInstance="4" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="4" srcInstance="5"/>
    <connection dstApp="4" dstInstance="5" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="4" srcInstance="6"/>
    <connection dstApp="4" dstInstance="6" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="4" srcInstance="7"/>
    <connection dstApp="4" dstInstance="7" srcApp="1" srcInstance="1"/>
    <connection dstApp="1" dstInstance="1" srcApp="4" srcInstance="8"/>
    <connection dstApp="4" dstInstance="8" srcApp="1" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="4" srcInstance="1"/>
    <connection dstApp="4" dstInstance="1" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="4" srcInstance="2"/>
    <connection dstApp="4" dstInstance="2" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="4" srcInstance="3"/>
    <connection dstApp="4" dstInstance="3" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="4" srcInstance="4"/>
    <connection dstApp="4" dstInstance="4" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="4" srcInstance="5"/>
    <connection dstApp="4" dstInstance="5" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="4" srcInstance="6"/>
    <connection dstApp="4" dstInstance="6" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="4" srcInstance="7"/>
    <connection dstApp="4" dstInstance="7" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="4" srcInstance="8"/>
    <connection dstApp="4" dstInstance="8" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="2" srcInstance="1"/>
    <connection dstApp="2" dstInstance="1" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="2" srcInstance="2"/>
    <connection dstApp="2" dstInstance="2" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="2" srcInstance="3"/>
    <connection dstApp="2" dstInstance="3" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="2" srcInstance="4"/>
    <connection dstApp="2" dstInstance="4" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="2" srcInstance="5"/>
    <connection dstApp="2" dstInstance="5" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="2" srcInstance="6"/>
    <connection dstApp="2" dstInstance="6" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="2" srcInstance="7"/>
    <connection dstApp="2" dstInstance="7" srcApp="3" srcInstance="1"/>
    <connection dstApp="3" dstInstance="1" srcApp="2" srcInstance="8"/>
    <connection dstApp="2" dstInstance="8" srcApp="3" srcInstance="1"/>
    <connection dstApp="4" dstInstance="1" srcApp="2" srcInstance="1"/>
    <connection dstApp="2" dstInstance="1" srcApp="4" srcInstance="1"/>
    <connection dstApp="4" dstInstance="2" srcApp="2" srcInstance="1"/>
    <connection dstApp="2" dstInstance="1" srcApp="4" srcInstance="2"/>
    <connection dstApp="4" dstInstance="3" srcApp="2" srcInstance="1"/>
    <connection dstApp="2" dstInstance="1" srcApp="4" srcInstance="3"/>
    <connection dstApp="4" dstInstance="4" srcApp="2" srcInstance="1"/>
    <connection dstApp="2" dstInstance="1" srcApp="4" srcInstance="4"/>
    <connection dstApp="4" dstInstance="5" srcApp="2" srcInstance="1"/>
    <connection dstApp="2" dstInstance="1" srcApp="4" srcInstance="5"/>
    <connection dstApp="4" dstInstance="6" srcApp="2" srcInstance="1"/>
    <connection dstApp="2" dstInstance="1" srcApp="4" srcInstance="6"/>
    <connection dstApp="4" dstInstance="7" srcApp="2" srcInstance="1"/>
    <connection dstApp="2" dstInstance="1" srcApp="4" srcInstance="7"/>
    <connection dstApp="4" dstInstance="8" srcApp="2" srcInstance="1"/>
    <connection dstApp="2" dstInstance="1" srcApp="4" srcInstance="8"/>
    <connection dstApp="4" dstInstance="1" srcApp="2" srcInstance="2"/>
    <connection dstApp="2" dstInstance="2" srcApp="4" srcInstance="1"/>
    <connection dstApp="4" dstInstance="2" srcApp="2" srcInstance="2"/>
    <connection dstApp="2" dstInstance="2" srcApp="4" srcInstance="2"/>
    <connection dstApp="4" dstInstance="3" srcApp="2" srcInstance="2"/>
    <connection dstApp="2" dstInstance="2" srcApp="4" srcInstance="3"/>
    <connection dstApp="4" dstInstance="4" srcApp="2" srcInstance="2"/>
    <connection dstApp="2" dstInstance="2" srcApp="4" srcInstance="4"/>
    <connection dstApp="4" dstInstance="5" srcApp="2" srcInstance="2"/>
    <connection dstApp="2" dstInstance="2" srcApp="4" srcInstance="5"/>
    <connection dstApp="4" dstInstance="6" srcApp="2" srcInstance="2"/>
    <connection dstApp="2" dstInstance="2" srcApp="4" srcInstance="6"/>
    <connection dstApp="4" dstInstance="7" srcApp="2" srcInstance="2"/>
    <connection dstApp="2" dstInstance="2" srcApp="4" srcInstance="7"/>
    <connection dstApp="4" dstInstance="8" srcApp="2" srcInstance="2"/>
    <connection dstApp="2" dstInstance="2" srcApp="4" srcInstance="8"/>
    <connection dstApp="4" dstInstance="1" srcApp="2" srcInstance="3"/>
    <connection dstApp="2" dstInstance="3" srcApp="4" srcInstance="1"/>
    <connection dstApp="4" dstInstance="2" srcApp="2" srcInstance="3"/>
    <connection dstApp="2" dstInstance="3" srcApp="4" srcInstance="2"/>
    <connection dstApp="4" dstInstance="3" srcApp="2" srcInstance="3"/>
    <connection dstApp="2" dstInstance="3" srcApp="4" srcInstance="3"/>
    <connection dstApp="4" dstInstance="4" srcApp="2" srcInstance="3"/>
    <connection dstApp="2" dstInstance="3" srcApp="4" srcInstance="4"/>
    <connection dstApp="4" dstInstance="5" srcApp="2" srcInstance="3"/>
    <connection dstApp="2" dstInstance="3" srcApp="4" srcInstance="5"/>
    <connection dstApp="4" dstInstance="6" srcApp="2" srcInstance="3"/>
    <connection dstApp="2" dstInstance="3" srcApp="4" srcInstance="6"/>
    <connection dstApp="4" dstInstance="7" srcApp="2" srcInstance="3"/>
    <connection dstApp="2" dstInstance="3" srcApp="4" srcInstance="7"/>
    <connection dstApp="4" dstInstance="8" srcApp="2" srcInstance="3"/>
    <connection dstApp="2" dstInstance="3" srcApp="4" srcInstance="8"/>
    <connection dstApp="4" dstInstance="1" srcApp="2" srcInstance="4"/>
    <connection dstApp="2" dstInstance="4" srcApp="4" srcInstance="1"/>
    <connection dstApp="4" dstInstance="2" srcApp="2" srcInstance="4"/>
    <connection dstApp="2" dstInstance="4" srcApp="4" srcInstance="2"/>
    <connection dstApp="4" dstInstance="3" srcApp="2" srcInstance="4"/>
    <connection dstApp="2" dstInstance="4" srcApp="4" srcInstance="3"/>
    <connection dstApp="4" dstInstance="4" srcApp="2" srcInstance="4"/>
    <connection dstApp="2" dstInstance="4" srcApp="4" srcInstance="4"/>
    <connection dstApp="4" dstInstance="5" srcApp="2" srcInstance="4"/>
    <connection dstApp="2" dstInstance="4" srcApp="4" srcInstance="5"/>
    <connection dstApp="4" dstInstance="6" srcApp="2" srcInstance="4"/>
    <connection dstApp="2" dstInstance="4" srcApp="4" srcInstance="6"/>
    <connection dstApp="4" dstInstance="7" srcApp="2" srcInstance="4"/>
    <connection dstApp="2" dstInstance="4" srcApp="4" srcInstance="7"/>
    <connection dstApp="4" dstInstance="8" srcApp="2" srcInstance="4"/>
    <connection dstApp="2" dstInstance="4" srcApp="4" srcInstance="8"/>
    <connection dstApp="4" dstInstance="1" srcApp="2" srcInstance="5"/>
    <connection dstApp="2" dstInstance="5" srcApp="4" srcInstance="1"/>
    <connection dstApp="4" dstInstance="2" srcApp="2" srcInstance="5"/>
    <connection dstApp="2" dstInstance="5" srcApp="4" srcInstance="2"/>
    <connection dstApp="4" dstInstance="3" srcApp="2" srcInstance="5"/>
    <connection dstApp="2" dstInstance="5" srcApp="4" srcInstance="3"/>
    <connection dstApp="4" dstInstance="4" srcApp="2" srcInstance="5"/>
    <connection dstApp="2" dstInstance="5" srcApp="4" srcInstance="4"/>
    <connection dstApp="4" dstInstance="5" srcApp="2" srcInstance="5"/>
    <connection dstApp="2" dstInstance="5" srcApp="4" srcInstance="5"/>
    <connection dstApp="4" dstInstance="6" srcApp="2" srcInstance="5"/>
    <connection dstApp="2" dstInstance="5" srcApp="4" srcInstance="6"/>
    <connection dstApp="4" dstInstance="7" srcApp="2" srcInstance="5"/>
    <connection dstApp="2" dstInstance="5" srcApp="4" srcInstance="7"/>
    <connection dstApp="4" dstInstance="8" srcApp="2" srcInstance="5"/>
    <connection dstApp="2" dstInstance="5" srcApp="4" srcInstance="8"/>
    <connection dstApp="4" dstInstance="1" srcApp="2" srcInstance="6"/>
    <connection dstApp="2" dstInstance="6" srcApp="4" srcInstance="1"/>
    <connection dstApp="4" dstInstance="2" srcApp="2" srcInstance="6"/>
    <connection dstApp="2" dstInstance="6" srcApp="4" srcInstance="2"/>
    <connection dstApp="4" dstInstance="3" srcApp="2" srcInstance="6"/>
    <connection dstApp="2" dstInstance="6" srcApp="4" srcInstance="3"/>
    <connection dstApp="4" dstInstance="4" srcApp="2" srcInstance="6"/>
    <connection dstApp="2" dstInstance="6" srcApp="4" srcInstance="4"/>
    <connection dstApp="4" dstInstance="5" srcApp="2" srcInstance="6"/>
    <connection dstApp="2" dstInstance="6" srcApp="4" srcInstance="5"/>
    <connection dstApp="4" dstInstance="6" srcApp="2" srcInstance="6"/>
    <connection dstApp="2" dstInstance="6" srcApp="4" srcInstance="6"/>
    <connection dstApp="4" dstInstance="7" srcApp="2" srcInstance="6"/>
    <connection dstApp="2" dstInstance="6" srcApp="4" srcInstance="7"/>
    <connection dstApp="4" dstInstance="8" srcApp="2" srcInstance="6"/>
    <connection dstApp="2" dstInstance="6" srcApp="4" srcInstance="8"/>
    <connection dstApp="4" dstInstance="1" srcApp="2" srcInstance="7"/>
    <connection dstApp="2" dstInstance="7" srcApp="4" srcInstance="1"/>
    <connection dstApp="4" dstInstance="2" srcApp="2" srcInstance="7"/>
    <connection dstApp="2" dstInstance="7" srcApp="4" srcInstance="2"/>
    <connection dstApp="4" dstInstance="3" srcApp="2" srcInstance="7"/>
    <connection dstApp="2" dstInstance="7" srcApp="4" srcInstance="3"/>
    <connection dstApp="4" dstInstance="4" srcApp="2" srcInstance="7"/>
    <connection dstApp="2" dstInstance="7" srcApp="4" srcInstance="4"/>
    <connection dstApp="4" dstInstance="5" srcApp="2" srcInstance="7"/>
    <connection dstApp="2" dstInstance="7" srcApp="4" srcInstance="5"/>
    <connection dstApp="4" dstInstance="6" srcApp="2" srcInstance="7"/>
    <connection dstApp="2" dstInstance="7" srcApp="4" srcInstance="6"/>
    <connection dstApp="4" dstInstance="7" srcApp="2" srcInstance="7"/>
    <connection dstApp="2" dstInstance="7" srcApp="4" srcInstance="7"/>
    <connection dstApp="4" dstInstance="8" srcApp="2" srcInstance="7"/>
    <connection dstApp="2" dstInstance="7" srcApp="4" srcInstance="8"/>
    <connection dstApp="4" dstInstance="1" srcApp="2" srcInstance="8"/>
    <connection dstApp="2" dstInstance="8" srcApp="4" srcInstance="1"/>
    <connection dstApp="4" dstInstance="2" srcApp="2" srcInstance="8"/>
    <connection dstApp="2" dstInstance="8" srcApp="4" srcInstance="2"/>
    <connection dstApp="4" dstInstance="3" srcApp="2" srcInstance="8"/>
    <connection dstApp="2" dstInstance="8" srcApp="4" srcInstance="3"/>
    <connection dstApp="4" dstInstance="4" srcApp="2" srcInstance="8"/>
    <connection dstApp="2" dstInstance="8" srcApp="4" srcInstance="4"/>
    <connection dstApp="4" dstInstance="5" srcApp="2" srcInstance="8"/>
    <connection dstApp="2" dstInstance="8" srcApp="4" srcInstance="5"/>
    <connection dstApp="4" dstInstance="6" srcApp="2" srcInstance="8"/>
    <connection dstApp="2" dstInstance="8" srcApp="4" srcInstance="6"/>
    <connection dstApp="4" dstInstance="7" srcApp="2" srcInstance="8"/>
    <connection dstApp="2" dstInstance="8" srcApp="4" srcInstance="7"/>
    <connection dstApp="4" dstInstance="8" srcApp="2" srcInstance="8"/>
    <connection dstApp="2" dstInstance="8" srcApp="4" srcInstance="8"/>
  </dataflow>

  <performance>
    <probe metric="Throughput" negative="RU_in" positive="RU_out"/>
    <probe metric="Throughput" negative="EVM_in" positive="BU_out"/>
    <probe metric="Throughput" negative="BU_in" positive="BU_out"/>
    <probe metric="Latency" negative="EVM_in" positive="BU_out"/>
    <probe metric="Average Event Size" negative="EVM_in" positive="BU_out"/>
  </performance>

</test>
